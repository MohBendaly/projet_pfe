<mat-card>
  <mat-card-title style="margin-bottom:  25px;">Connexion</mat-card-title>
  <mat-card-content>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      
      <!-- Champ Nom d'utilisateur ou Email -->
      <mat-form-field appearance="outline" class="w-100" color="primary">
        <mat-label>Nom d'utilisateur ou Email</mat-label>
        <input matInput id="usernameOrEmail" formControlName="usernameOrEmail" />
        <mat-error *ngIf="f['usernameOrEmail'].touched && f['usernameOrEmail'].errors?.['required']">
          Ce champ est requis.
        </mat-error>
        <mat-error *ngIf="f['usernameOrEmail'].touched && f['usernameOrEmail'].errors?.['minlength']">
          Minimum 3 caractères.
        </mat-error>
      </mat-form-field>
      
      <!-- Champ Mot de passe -->
      <mat-form-field appearance="outline" class="w-100" color="primary">
        <mat-label>Mot de passe</mat-label>
        <input matInput id="password" type="password" formControlName="password" />
        <mat-error *ngIf="f['password'].touched && f['password'].errors?.['required']">
          Le mot de passe est requis.
        </mat-error>
        <mat-error *ngIf="f['password'].touched && f['password'].errors?.['minlength']">
          Minimum 6 caractères.
        </mat-error>
      </mat-form-field>
      
      <!-- Message d'erreur global -->
      <p *ngIf="errorMessages?.length" class="error">
        {{ errorMessages.join(', ') }}
      </p>
      
      <!-- Bouton de soumission -->
      <button mat-flat-button color="primary" class="w-100" type="submit" [disabled]="loginForm.invalid || isLoading">
        Se connecter
      </button>
      
      <!-- Lien vers inscription -->
      <div class="text-center mt-3">
        <span>Pas encore de compte ? </span>
        <a routerLink="/register" class="text-primary">Inscrivez-vous</a>
      </div>
    </form>
  </mat-card-content>
</mat-card>
